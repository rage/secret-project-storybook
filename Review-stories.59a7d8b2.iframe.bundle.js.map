{"version":3,"file":"Review-stories.59a7d8b2.iframe.bundle.js","mappings":";;;;;;;;;;AAoBA;;;;AAIA;;;;;;;;;AAoBA;;;;;;;;;;AC4CA;;;;;;;;;AASA;;;ACnFA;;;;;;AAOA;;;;;;;;AAWA;;;;;;AAMA;;;;;AAKA;;;;;;;;;AASA;;;;;;;;;;AAUA;;;;;AAmBA","sources":["webpack://shared-module/./src/components/PeerReview/Review.tsx","webpack://shared-module/./src/components/InputFields/TextAreaField.tsx","webpack://shared-module/./src/components/PeerReview/LikertScale.tsx"],"sourcesContent":["import styled from \"@emotion/styled\"\nimport React from \"react\"\nimport { useTranslation } from \"react-i18next\"\n\nimport { primaryFont } from \"../../styles/typography\"\nimport TextArea from \"../InputFields/TextAreaField\"\n\nimport LikertScale from \"./LikertScale\"\n\nconst Wrapper = styled.div`\n  margin: 0 auto;\n  max-width: 1000px;\n\n  .comment {\n    display: inline-block;\n    font-size: 20px;\n    margin-bottom: 10px;\n    color: #1a2333;\n  }\n`\nconst StyledInstruction = styled.div`\n  margin-bottom: 3rem;\n\n  .instruction {\n    font-family: ${primaryFont};\n    margin-bottom: 5px;\n  }\n\n  .instruction-text {\n    font-size: 18px;\n    line-height: 24px;\n    color: #313947;\n  }\n`\nconst INSTRUCTION_TEXT = `Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has\nbeen the industrys standard dummy text ever since the 1500s, when an unknown printer took\na galley of type and scrambled.`\n\nconst GENERAL_COMMENTS = \"General comments\"\n\nconst EXAMPLE_QUESTION = \"Example question\"\n\nexport type ReviewComponentProps = React.HTMLAttributes<HTMLDivElement>\n\nconst Review: React.FC<\n  React.PropsWithChildren<React.PropsWithChildren<ReviewComponentProps>>\n> = () => {\n  const { t } = useTranslation()\n  return (\n    <Wrapper>\n      <StyledInstruction>\n        <h3 className=\"instruction\">{t(\"instruction\")}</h3>\n        <p className=\"instruction-text\">{INSTRUCTION_TEXT}</p>\n      </StyledInstruction>\n\n      <span className=\"comment\">{GENERAL_COMMENTS}</span>\n      <TextArea placeholder={t(\"write-a-review\")} onChange={() => null}></TextArea>\n      <LikertScale\n        question={EXAMPLE_QUESTION}\n        answerRequired={false}\n        selectedOption={null}\n        setSelectedOption={function (_value: number | null): void {\n          // NOP\n        }}\n      />\n    </Wrapper>\n  )\n}\n\nexport default Review\n","import { css, cx } from \"@emotion/css\"\nimport React, { forwardRef, TextareaHTMLAttributes, useEffect, useRef } from \"react\"\nimport { FieldError } from \"react-hook-form\"\n\nexport interface TextAreaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\n  label?: string\n  errorMessage?: string\n  error?: string | FieldError\n  onChangeByValue?: (value: string, name?: string) => void\n  autoResize?: boolean\n  resize?: \"none\" | \"both\" | \"horizontal\" | \"vertical\" | \"block\" | \"inline\"\n}\n\nfunction updateHeight(ref: React.RefObject<HTMLTextAreaElement>) {\n  if (ref.current) {\n    // eslint-disable-next-line i18next/no-literal-string\n    ref.current.style.height = \"auto\"\n    // eslint-disable-next-line i18next/no-literal-string\n    ref.current.style.height = `${ref.current.scrollHeight + 5}px`\n  }\n}\n\nconst useCombinedRefs = (\n  fwdRef: React.ForwardedRef<HTMLTextAreaElement>,\n  innerRef: React.MutableRefObject<HTMLTextAreaElement | null>,\n) => {\n  React.useEffect(() => {\n    ;[innerRef, fwdRef].forEach((ref) => {\n      if (ref) {\n        if (typeof ref === \"function\") {\n          ref(innerRef.current || null)\n        } else {\n          ref.current = innerRef.current || null\n        }\n      }\n    })\n  }, [innerRef, fwdRef])\n  return innerRef\n}\nconst TextAreaField = forwardRef<HTMLTextAreaElement, TextAreaProps>(\n  (\n    {\n      onChangeByValue,\n      onChange,\n      className,\n      autoResize,\n      resize = \"vertical\",\n      ...rest\n    }: TextAreaProps,\n    ref,\n  ) => {\n    const textareaRef = useRef<HTMLTextAreaElement>(null)\n    const combinedRef = useCombinedRefs(ref, textareaRef)\n\n    const handleOnChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n      if (onChangeByValue) {\n        const {\n          target: { value },\n        } = event\n        onChangeByValue(value)\n      }\n      if (onChange) {\n        onChange(event)\n      }\n      if (autoResize) {\n        updateHeight(textareaRef)\n      }\n    }\n    useEffect(() => {\n      // This auto-resizes the textarea if the feature is enabled\n      if (!autoResize || !textareaRef.current) {\n        return\n      }\n      updateHeight(textareaRef)\n    }, [ref, rest.value, autoResize])\n    return (\n      <div\n        className={cx(\n          css`\n            margin-bottom: 1rem;\n\n            label {\n              display: grid;\n\n              textarea {\n                background: #fcfcfc;\n                border: 1.6px solid #dedede;\n                padding: 10px 12px;\n                resize: ${resize};\n              }\n              span {\n                color: #333;\n                font-size: 14px;\n                font-weight: 500;\n                margin-bottom: 0.2rem;\n              }\n            }\n          `,\n          className,\n        )}\n      >\n        <label>\n          <span>{rest.label}</span>\n          <textarea\n            ref={combinedRef}\n            onChange={handleOnChange}\n            /* onKeyPress={(event) => onKeyPress(event)} */\n            defaultValue={rest.defaultValue}\n            {...rest}\n          />\n        </label>\n      </div>\n    )\n  },\n)\n\nTextAreaField.displayName = \"TextAreaField\"\nexport default TextAreaField\n","import styled from \"@emotion/styled\"\nimport React from \"react\"\nimport { useTranslation } from \"react-i18next\"\n\nimport Agree from \"../../img/likert/agree.svg\"\nimport Disagree from \"../../img/likert/disagree.svg\"\nimport Neutral from \"../../img/likert/neutral.svg\"\nimport StronglyAgree from \"../../img/likert/stronglyAgree.svg\"\nimport StronglyDisagree from \"../../img/likert/stronglyDisagree.svg\"\n\nconst Wrapper = styled.div`\n  margin: 1.5rem auto;\n  max-width: 1000px;\n`\nconst Question = styled.span`\n  font-size: 22px;\n  margin: 0 auto;\n  margin-bottom: 1rem;\n  display: block;\n  color: #1a2333;\n`\nconst Likerts = styled.div`\n  background: #f9f9f9;\n  min-height: 100px;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n  margin: 0 auto;\n  max-width: 1000px;\n  justify-items: center;\n`\n\n/* eslint-disable i18next/no-literal-string */\nconst Likert = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 15px 0;\n  background-color: ${({ active }: StyledProps) => (active ? \"#313947\" : \"#f9f9f9\")};\n  cursor: pointer;\n  transition: all 0.2s;\n\n  svg .bg {\n    fill: ${({ active }) => active && \"#ffd93b\"};\n  }\n\n  svg {\n    margin-top: 10px;\n    margin-bottom: 5px;\n  }\n\n  &:hover {\n    background: ${({ active }: StyledProps) => (active ? \"#313947\" : \"#babdc2\")};\n    svg .bg {\n      fill: #ffd93b;\n    }\n  }\n\n  .likert-scale-text {\n    margin-top: 6px;\n    font-size: 15px;\n    font-weight: 500;\n    color: ${({ active }) => (active ? \"#ffffff\" : \"#313947\")};\n    text-align: center;\n    line-height: 1.2;\n    padding: 0 0.5rem;\n  }\n`\n\ninterface LikertScaleProps {\n  disabled?: boolean\n  question: string\n  answerRequired: boolean\n  selectedOption: number | null\n  setSelectedOption: (value: number | null) => void\n}\n\ninterface StyledProps {\n  active: boolean\n}\n\nconst LikertScale: React.FC<React.PropsWithChildren<React.PropsWithChildren<LikertScaleProps>>> = ({\n  disabled,\n  question,\n  answerRequired,\n  selectedOption,\n  setSelectedOption,\n}) => {\n  const { t } = useTranslation()\n\n  const arr = [\n    {\n      text: t(\"likert-scale-strongly-disagree\"),\n      image: <StronglyDisagree />,\n    },\n    {\n      text: t(\"likert-scale-disagree\"),\n      image: <Disagree />,\n    },\n    {\n      text: t(\"likert-scale-neither-agree-nor-disagree\"),\n      image: <Neutral />,\n    },\n    {\n      text: t(\"likert-scale-agree\"),\n      image: <Agree />,\n    },\n    {\n      text: t(\"likert-scale-strongly-agree\"),\n      image: <StronglyAgree />,\n    },\n  ]\n\n  return (\n    <Wrapper>\n      <Question>\n        {question}\n        {answerRequired && \" *\"}\n      </Question>\n\n      <Likerts>\n        {arr.map((option, n) => (\n          <Likert\n            key={n + 1}\n            onClick={() => {\n              if (!disabled) {\n                setSelectedOption(n + 1)\n              }\n            }}\n            active={selectedOption === n + 1}\n          >\n            {option.image}\n            <p className=\"likert-scale-text\">{option.text}</p>\n          </Likert>\n        ))}\n      </Likerts>\n    </Wrapper>\n  )\n}\nLikertScale.defaultProps = { disabled: false }\n\nexport default LikertScale\n"],"names":[],"sourceRoot":""}